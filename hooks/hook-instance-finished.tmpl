#!/bin/bash
###############################################################################
# This hook is run for each candidate after all candidate
# configurations have been run on a single instance.
#
# Check the examples in examples/
#
# PARAMETERS:
# $1 is the instance name
# $2 is the candidate number
#
# RETURN VALUE:
# This hook should print a single numerical value
###############################################################################
INSTANCE=$1
NUMCAND=$2

while [ -s "$NUMCAND" ]; do
    sleep 10
done

COST=`cat ${NUMCAND}.run.output | grep -e '^[0-9]' | cut -f1`
echo "$COST"
## FIXME: only delete these if the command above succeded
rm -f ${NUMCAND}.run.output ${NUMCAND}.run.stderr
#exit 0

